<div class="container d-flex justify-content-center align-items-center" style="min-height: 80vh;">
  <div class="card shadow-sm border-1 p-5" style="width: 100%; max-width: 500px; border-radius: 16px;">

    <h3 class="text-center mb-4 fw-semibold">
      <% case @fund.fund_type %>
      <% when "deposit" %>
        Deposit Funds
      <% when "withdraw" %>
        Withdraw Funds
      <% else %>
        Add or Withdraw Funds
      <% end %>
    </h3>

    <% if @fund.errors.any? %>
      <div class="alert alert-danger">
        <ul class="mb-0">
          <% @fund.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <%= form_with model: @fund, url: @fund.persisted? ? trader_fund_path(@fund) : trader_funds_path, local: true do |f| %>

      <div class="mb-4">
        <%= f.label :fund_type, "Select Action", class: "form-label fw-semibold" %>
        <div class="d-flex gap-2">
          <%= f.radio_button :fund_type, "deposit", class: "btn-check", id: "fund_deposit", autocomplete: "off", required: true %>
          <label class="btn btn-outline-success w-50" for="fund_deposit">Deposit</label>

          <%= f.radio_button :fund_type, "withdraw", class: "btn-check", id: "fund_withdraw", autocomplete: "off" %>
          <label class="btn btn-outline-danger w-50" for="fund_withdraw">Withdraw</label>
        </div>
      </div>

      <div class="mb-4">
        <%= f.label :amount, "Amount", class: "form-label fw-semibold" %>
        <div class="input-group">
          <span class="input-group-text px-3">$</span>
          <%= f.number_field :amount, step: 0.01, min: 0.01, class: "form-control", placeholder: "0.00", required: true %>
        </div>
      </div>

      <div class="mb-4">
        <%= f.label :notes, "Note (optional)", class: "form-label fw-semibold" %>
        <%= f.text_area :notes, rows: 2, placeholder: "e.g. Bank transfer, GCash, BPI", class: "form-control" %>
      </div>

      <%= f.submit "Continue", class: "btn btn-primary w-100 py-2 fw-semibold" %>

    <% end %>
  </div>
</div>
